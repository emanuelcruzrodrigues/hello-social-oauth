<html xmlns:th="<http://www.thymeleaf.org>">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello social auth</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>
<body>

<header th:insert="~{fragments/menu.html :: header}"></header>

<div class="container">

    <div class="jumbotron">
        <h1 class="display-4">Welcome to the restricted area!</h1>
        <p class="lead">Now you are logged in</p>

        <a class="btn btn-primary btn-lg" href="/logout" role="button">Logout</a>
    </div>

    <table class="table table-hover">
        <thead>
        <tr>
            <th>Authenticator</th>
            <th>Provider</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="authenticator : ${account.socialAuthenticators}">
            <td th:text="${authenticator.email}"></td>
            <td th:text="${authenticator.identityProvider}"></td>
        </tr>
        </tbody>
    </table>

    <div th:if="${account.games != null}">

        <h2>Steam Games List</h2>

        <table class="table table-hover">
            <thead>
            <tr>
                <th>#</th>
                <th>Game</th>
                <th>Playtime (minutes)</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="game : ${account.games}">
                <td th:text="${game.key}"></td>
                <td th:text="${game.value.name}"></td>
                <td th:text="${game.value.playtime}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<footer th:insert="~{fragments/footer.html :: footer}"></footer>

</body>
</html>
